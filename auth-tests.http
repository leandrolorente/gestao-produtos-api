### Gestão Produtos API - Testes de Autenticação

# Configurações do ambiente
@baseUrl = http://localhost:5000/api
@token = {{login.response.body.token}}

### 1. Registrar um novo usuário
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "name": "João Silva",
  "email": "joao@teste.com",
  "password": "MinhaSenh@123",
  "avatar": null,
  "department": "TI"
}

### 2. Fazer login
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "joao@teste.com",
  "password": "MinhaSenh@123"
}

### 3. Obter informações do usuário logado
GET {{baseUrl}}/auth/me
Authorization: Bearer {{token}}

### 4. Validar token
POST {{baseUrl}}/auth/validate-token
Authorization: Bearer {{token}}

### 5. Alterar senha
POST {{baseUrl}}/auth/change-password
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "currentPassword": "MinhaSenh@123",
  "newPassword": "NovaSenha@456"
}

### 6. Solicitar reset de senha
POST {{baseUrl}}/auth/forgot-password
Content-Type: application/json

{
  "email": "joao@teste.com"
}

### 7. Resetar senha (use o token gerado no console)
POST {{baseUrl}}/auth/reset-password
Content-Type: application/json

{
  "email": "joao@teste.com",
  "token": "TOKEN_GERADO_NO_CONSOLE",
  "newPassword": "SenhaResetada@789"
}

### 8. Testar endpoint protegido - Listar produtos
GET {{baseUrl}}/produtos
Authorization: Bearer {{token}}

### 9. Testar login inválido
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "joao@teste.com",
  "password": "senhaerrada"
}

### 10. Testar acesso sem token
GET {{baseUrl}}/auth/me